'use strict';

var lr = require('@lezer/lr');
var common = require('@lezer/common');
var language = require('@codemirror/language');
var highlight = require('@lezer/highlight');

// This file was generated by lezer-generator. You probably shouldn't edit it.
const parser = lr.LRParser.deserialize({
  version: 14,
  states: "nQVQPOOOOQO'#Ch'#ChOOQO'#Cd'#CdQVQPOOOOQO-E6b-E6b",
  stateData: "k~OZOS~OQPORPOSPOTPOUPOVPO~O",
  goto: "h]PPPPPPPP^PPPdQRORSRTQOR",
  nodeNames: "âš  Program Heading1 Heading2 List LineComment Definition Blockquote",
  maxTerm: 12,
  skippedNodes: [0],
  repeatNodeCount: 1,
  tokenData: "&X~RXXYnYZn]^npqnqr!Pst!|!]!^#R!^!_#j!`!a&S~sSZ~XYnYZn]^npqn~!SQpq!Yqr!_~!_OQ~~!bPpq!e~!jSR~OY!eZ;'S!e;'S;=`!v<%lO!e~!yP;=`<%l!e~#ROS~~#WSU~OY#RZ;'S#R;'S;=`#d<%lO#R~#gP;=`<%l#R~#mPqr#p~#sP}!O#v~#yP}!O#|~$PUOY#|Z}#|}!O$c!O;'S#|;'S;=`%|<%lO#|~$fUOY#|Z}#|}!O$x!O;'S#|;'S;=`%|<%lO#|~${WOY#|Z}#|}!O$x!O!`#|!`!a%e!a;'S#|;'S;=`%|<%lO#|~%jUT~OY#|Z}#|}!O$c!O;'S#|;'S;=`%|<%lO#|~&PP;=`<%l#|~&XOV~",
  tokenizers: [0],
  topRules: {"Program":[0,1]},
  tokenPrec: 0
});

const headingProp = new common.NodeProp();
const tiddlywikiLanguage = language.LRLanguage.define({
    parser: parser.configure({
        props: [
            language.indentNodeProp.add({
                Application: language.delimitedIndent({ closing: ')', align: false })
            }),
            language.foldNodeProp.add({
                Application: language.foldInside
            }),
            headingProp.add(isHeading),
            highlight.styleTags({
                List: highlight.tags.number,
                Heading1: highlight.tags.heading1,
                Heading2: highlight.tags.heading2,
                Blockquote: highlight.tags.quote,
                LineComment: highlight.tags.comment,
                Definition: highlight.tags.strong,
                // BlockComment: t.blockComment,
                '( )': highlight.tags.paren
            })
        ]
    }),
    languageData: {
        commentTokens: {
            block: {
                open: '<!--',
                close: '-->'
            }
        }
    }
});
// export const tiddlywikiCompletion = tiddlywikiLanguage.data.of({
// autocomplete: completeFromList([
//   { label: 'tiddlywiki', type: 'keyword' },
//   { label: 'define', type: 'keyword' },
//   { label: 'let', type: 'keyword' }
// ])
// });
function tiddlywiki() {
    return new language.LanguageSupport(tiddlywikiLanguage, []);
}
function isHeading(type) {
    let match = /^(?:ATX|Setext)Heading(\d)$/.exec(type.name);
    return match ? +match[1] : undefined;
}

exports.tiddlywiki = tiddlywiki;
exports.tiddlywikiLanguage = tiddlywikiLanguage;
